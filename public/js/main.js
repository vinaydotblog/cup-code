// Generated by CoffeeScript 1.6.3
/*
	Bootstraper OF cup code
*/

require.config({
  deps: ['defaults', 'modules/log'],
  paths: {
    text: 'ace/requirejs/text',
    jquery: 'libs/jquery.min',
    underscore: 'libs/underscore',
    backbone: 'libs/backbone'
  }
});

require(['jquery', 'editor', 'libs/jwerty', 'components/modal', 'modules/cmd', 'modules/notify', 'modules/log', 'modules/filesystem', 'modules/filemenu', 'modules/server_fs', 'modules/tdi', 'modules/req'], function($, editor, jw, modal, cmd, noty, log, fs, fm, tdi, req) {
  editor.add("first_document");
  $('#content').height($(window).height() - 75);
  jwerty.key("ctrl+1", function() {
    return editor.increaseFont();
  });
  jwerty.key("ctrl+2", function() {
    return editor.decreaseFont();
  });
  $('#file-menu').appendTo('body').show();
  $('#content_wrapper').tabbed();
  cmd.define('open_project', function() {
    return $('#open_project').modal('show');
  });
  document.addEventListener('drop', function(e) {
    var file, reader;
    e.stopPropagation();
    e.preventDefault();
    file = e.dataTransfer.files[0];
    reader = new FileReader;
    reader.onload = function(e) {
      console.log(e);
      Editor.$curEditor.setValue(e.target.result);
      return Editor.$curEditor.gotoLine(1);
    };
    reader.readAsText(file);
    return console.log("Droping...");
  });
  return document.addEventListener('dragover', function(e) {
    e.stopPropagation();
    e.preventDefault();
    return console.log("Dragging...");
  });
});
